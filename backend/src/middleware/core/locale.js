const { parseCookies, setCookie } = require("../utils/cookies");

const translations = {
  en: {
    brand: "CHAND EVA",
    dashboard: "Dashboard",
    welcome: "Welcome back. Select a module from the navigation to begin.",
    branch: "Branch",
    signed_in_as: "Signed in as",
    logout: "Logout",
    sign_in: "Sign in",
    use_credentials: "Use your ERP credentials to continue.",
    username: "Username",
    password: "Password",
    login: "Login",
    incorrect_credentials: "Incorrect username or password. Try again.",
    user_inactive: "User is inactive. Contact admin.",
    login_failed: "Login failed. Please try again.",
    administration: "Administration",
    setup: "Setup",
    branches: "Branches",
    users: "Users",
    roles: "Roles",
    permissions: "Permissions",
    approvals: "Pending Approvals",
    audit_logs: "Activity Log",
    master_data: "Master Data",
    accounts_parties: "Accounts & Parties",
    accounts: "Accounts",
    parties: "Parties",
    products: "Products",
    basic_information: "Basic Information",
    units: "Units",
    groups: "Groups",
    party_groups: "Party Groups",
    account_groups: "Account Groups",
    account_type: "Account Type",
    account_group: "Account Group",
    account_code: "Account Code",
    account_name: "Account Name",
    lock_posting: "Lock Posting",
    party_type: "Party Type",
    party_group: "Party Group",
    party_code: "Party Code",
    party_name: "Party Name",
    address: "Address",
    phone_primary: "Phone (Primary)",
    phone_secondary: "Phone (Secondary)",
    phone_1: "Phone 1",
    phone_2: "Phone 2",
    city: "City",
    customer: "Customer",
    supplier: "Supplier",
    credit_allowed: "Credit Allowed",
    credit_limit: "Credit Limit",
    "Maintain chart of accounts used in vouchers and reporting.": "Maintain chart of accounts used in vouchers and reporting.",
    "Manage customer and supplier master records.": "Manage customer and supplier master records.",
    "Prevent vouchers from posting to this account.": "Prevent vouchers from posting to this account.",
    "Only allowed for customers. Requires a credit limit.": "Only allowed for customers. Requires a credit limit.",
    departments: "Departments",
    product_groups: "Product Groups",
    product_subgroups: "Product Sub-Groups",
    product_types: "Product Types",
    sizes: "Sizes",
    colors: "Colors",
    grades: "Grades",
    packing_types: "Packing Types",
    cities: "Cities",
    uom_conversions: "UOM Conversions",
    finished: "Finished",
    semi_finished: "Semi-Finished",
    raw_materials: "Raw Materials",
    semi_finished_goods: "Semi-Finished Goods",
    finished_goods: "Finished Goods",
    skus: "SKUs",

    article_name: "Article Name",
    group: "Group",
    sub_group: "Sub Group",
    base_unit: "Base Unit",
    category: "Category",
    uses_sfg: "Uses SFG",
    sfg_part: "SFG Part",
    sfg_part_type: "SFG Part Type",
    upper: "Upper",
    step: "Step",
    color_rates: "Color Rates",
    avg_purchase_rate: "Avg Purchase Rate",
    min_stock: "Min Stock",
    sizes_label: "Sizes",
    usage: "Usage In",
    sale_rate: "Sale Rate",
    sku_code: "SKU Code",
    rates: "Rates",
    summary: "Summary",
    expanded: "Expanded",
    one_color: "One Color",
    one_size: "One Size",
    only: "Only",
    variant_id: "Variant ID",
    article: "Article",
    barcode: "Barcode",
    purchase_rate: "Purchase Rate",
    sizes_help: "Select one or more sizes used by this semi-finished item.",
    finished_description: "Maintain finished articles, categories, and SFG usage flags.",
    semi_finished_description: "Maintain semi-finished items and their applicable sizes.",
    raw_materials_description: "Maintain raw materials with per-color purchase rates.",
    skus_description: "Maintain SKU variants and pricing.",
    sku_rate_help: "Select sizes and grades (plus optional colors/packing) to add a rate for each combination.",
    bom: "BOM",
    bom_list: "BOM List",
    bom_versions: "Versions",
    bom_approval: "Approval",
    hr_payroll: "HR & Payroll",
    employees: "Employees",
    sales_commission: "Sales Commission",
    allowances: "Allowances",
    labours: "Labours",
    labour_rates: "Labour Rates",
    financial: "Financial",
    vouchers: "Vouchers",
    cash_voucher: "Cash Voucher",
    bank_voucher: "Bank Voucher",
    journal_voucher: "Journal Voucher",
    reports: "Reports",
    financial_reports: "Financial Reports",
    purchase: "Purchase",
    purchase_invoice: "Purchase Invoice",
    purchase_order: "Purchase Order",
    purchase_return: "Purchase Return",
    purchase_reports: "Purchase Report",
    production: "Production",
    abnormal_loss: "Abnormal Loss",
    production_reports: "Production Reports",
    inventory: "Inventory",
    inventory_voucher: "Inventory Voucher",
    stock_count: "Stock Count",
    stock_transfer: "Stock Transfer",
    inventory_reports: "Inventory Reports",
    outward_returnable: "Outward & Returnable",
    returnables: "Returnables",
    returnable_reports: "Returnable Reports",
    sales: "Sales",
    sales_voucher: "Sales Voucher",
    sales_order: "Sales Order",
    sales_reports: "Sales Reports",
    download: "Download",
    auto_translate: "Auto Translate",
    translate_to_urdu: "Translate to Urdu",
    print: "Print",
    add: "Add",
    list: "List",
    show: "Show",
    rows: "Rows",
    status: "Status",
    search: "Search",
    all: "All",
    none: "NONE",
    active: "Active",
    inactive: "Inactive",
    sr_no: "Sr.No",
    actions: "Actions",
    no_entries: "No entries yet.",
    yes: "Yes",
    no: "No",
    edit: "Edit",
    activate: "Activate",
    deactivate: "Deactivate",
    permanent_delete: "Permanent Delete",
    confirm: "Confirm",
    are_you_sure: "Are you sure?",
    continue: "Continue",
    cancel: "Cancel",
    save: "Save",
    audit: "Audit",
    created: "Created",
    updated: "Updated",
    enter_details_save: "Enter details and save.",
    showing: "Showing",
    to: "to",
    of: "of",
    entries: "entries",
    proceed_change: "Proceed with this change?",
    permanent_delete_message: "This will permanently delete the record. Continue?",
    filters: "Filters",
    apply: "Apply",
    clear: "Clear",
    include: "Include",
    exclude: "Exclude",
    unit_code_exists: "Unit code already exists.",
    conversion_same_units: "From and To units cannot be the same.",
    conversion_factor: "Factor must be greater than zero.",
    conversion_exists: "Conversion already exists for these units.",
    error_required_fields: "Please fill all required fields.",
    error_unable_save: "Unable to save. Check for duplicate values or invalid data.",
    error_update_status: "Unable to update status. This item may be in use.",
    error_delete: "Unable to delete. This item may be in use.",
    error_unit_code_locked: "Unit code cannot be changed once it is used in items or conversions.",
    error_duplicate_code: "Code already exists.",
    error_duplicate_name: "Name already exists.",
    error_select_branch: "Please select at least one branch.",
    error_select_phone: "Please enter at least one phone number.",
    error_select_party_group: "Please select a party group.",
    error_select_city: "Please select a city.",
    error_party_group_type: "Selected party group does not match party type.",
    error_phone_required: "Please enter at least one phone number.",
    error_credit_customer_only: "Credit is only allowed for customers.",
    error_credit_limit_required: "Credit limit must be greater than zero when credit is allowed.",
    select: "Select",
    prev: "Prev",
    next: "Next",
    new: "New",
    back_to_list: "Back to list",
    tooltip_account_type: "Main accounting classification (Asset, Liability, Equity, Revenue, Expense).",
    tooltip_code: "Short code used in reports and filtering.",
    tooltip_contra: "Offsets the balance of its parent group.",
    help_unit_code: "Short unique key used by the system (e.g., PCS, KG).",
    help_unit_name: "Descriptive name shown on reports and documents.",
    "Define the units of measure used across items, vouchers, and stock.": "Define the units of measure used across items, vouchers, and stock.",
    "Product group visibility for raw, semi-finished, and finished items.": "Product group visibility for raw, semi-finished, and finished items.",
    "Size labels used in variants (e.g., 7/10, 9/10).": "Size labels used in variants (e.g., 7/10, 9/10).",
    "Color options for raw materials and finished variants.": "Color options for raw materials and finished variants.",
    "Quality grades for product variants.": "Quality grades for product variants.",
    "Packaging types for packed stock and variant rules.": "Packaging types for packed stock and variant rules.",
    "Organize customers and suppliers into reusable party groups.": "Organize customers and suppliers into reusable party groups.",
    "Define chart of account groups under standard account types.": "Define chart of account groups under standard account types.",
    "Maintain city master for party addresses and reporting.": "Maintain city master for party addresses and reporting.",
    "Department master for production and non-production cost centers.": "Department master for production and non-production cost centers.",
    "Define product sub-groups under a product group.": "Define product sub-groups under a product group.",
    "Define product types (e.g., Slipper, Sandal, Pumpy).": "Define product types (e.g., Slipper, Sandal, Pumpy).",
    "Subgroup Name": "Subgroup Name",
    "Product Type": "Product Type",
    "boots_kids, sliders": "boots_kids, sliders",
    "Ballman, Ragzeen ": "Ballman, Ragzeen ",
    "slipper, sandal, pumpy": "slipper, sandal, pumpy",
    "Slipper, Sandal, Pumpy": "Slipper, Sandal, Pumpy",
    ID: "ID",
    Code: "Code",
    Name: "Name",
    "Name (Urdu)": "Name (Urdu)",
    Group: "Group",
    Type: "Type",
    "Account Name": "Account Name",
    Contra: "Contra",
    "Created By": "Created By",
    "Created At": "Created At",
    Active: "Active",
    RM: "RM",
    SFG: "SFG",
    FG: "FG",
    "Group Name": "Group Name",
    "Applies To": "Applies To",
    "Applies to Raw Materials": "Applies to Raw Materials",
    "Applies to Semi-Finished": "Applies to Semi-Finished",
    "Applies to Finished Goods": "Applies to Finished Goods",
    Size: "Size",
    Color: "Color",
    Grade: "Grade",
    "Packing Type": "Packing Type",
    "Party Group": "Party Group",
    "Party Name": "Party Name",
    "Group Type": "Group Type",
    "Account Group": "Account Group",
    "Contra Account": "Contra Account",
    Production: "Production",
    "Production Department": "Production Department",
    Department: "Department",
    Customer: "Customer",
    Supplier: "Supplier",
    Both: "Both",
    "Select the main classification (Asset, Liability, Equity, Revenue, Expense).": "Select the main classification (Asset, Liability, Equity, Revenue, Expense).",
    "Short code used in reports and filtering (e.g., cash_bank).": "Short code used in reports and filtering (e.g., cash_bank).",
    "Use for balances that offset their parent group.": "Use for balances that offset their parent group.",
    "PCS, DOZEN, KG": "PCS, DOZEN, KG",
    "Pieces, Dozen, Kilogram": "Pieces, Dozen, Kilogram",
    "EVA, PU, Footwear": "EVA, PU, Footwear",
    "7/10, 40, 41": "7/10, 40, 41",
    "Black, White, Mix": "Black, White, Mix",
    "A, B, C": "A, B, C",
    "Thaili, Box, Carton": "Thaili, Box, Carton",
    "Wholesale, Retail, Suppliers": "Wholesale, Retail, Suppliers",
    "cash_bank, receivables": "cash_bank, receivables",
    "Cash & Bank, Trade Receivables": "Cash & Bank, Trade Receivables",
    "Cutting, Stitching, Accounts": "Cutting, Stitching, Accounts",
    "Urdu name": "Urdu name",
    "Urdu display name for reports and screens.": "Urdu display name for reports and screens.",
    language: "Language",
    english: "English",
    urdu: "Urdu",
  },
  ur: {
    raw_materials: "خام مال",
    semi_finished_goods: "نیم تیار مال",
    finished_goods: "تیار شدہ مال",
    "  To": "لاگو ہوتا ہے",
    "Subgroup Name": "ذیلی گروپ نام",
    "Product Type": "مصنوعہ قسم",
    product_subgroups: "پروڈکٹ سب گروپ",
    product_types: "پروڈکٹ ٹائپس",
    "Define product sub-groups under a product group.": "پروڈکٹ گروپ کے تحت پروڈکٹ کے ذیلی گروپس کی وضاحت کریں۔",
    "Define product types (e.g., Slipper, Sandal, Pumpy).": "پروڈکٹ کی اقسام کی وضاحت کریں (مثال کے طور پر، سلیپر، سینڈل، پمپی)",
    download: "ڈاؤن لوڈ",
    print: "پرنٹ",
    add: "شامل کریں",
    list: "فہرست",
    show: "دکھائیں",
    rows: "قطاریں",
    status: "حالت",
    search: "تلاش",
    all: "سب",
    none: "کوئی نہیں",
    active: "فعال",
    inactive: "غیر فعال",
    sr_no: "سیریل نمبر",
    actions: "عمل",
    no_entries: "کوئی اندراج نہیں۔",
    yes: "ہاں",
    no: "نہیں",
    edit: "ترمیم",
    activate: "فعال کریں",
    deactivate: "غیر فعال کریں",
    permanent_delete: "مستقل حذف",
    confirm: "تصدیق",
    are_you_sure: "کیا آپ کو یقین ہے؟",
    continue: "جاری رکھیں",
    cancel: "منسوخ",
    save: "محفوظ کریں",
    audit: "آڈٹ",
    created: "تخلیق",
    updated: "اپ ڈیٹ",
    enter_details_save: "تفصیلات درج کریں اور محفوظ کریں۔",
    showing: "دکھا رہا ہے",
    to: "تا",
    of: "میں سے",
    entries: "اندراجات",
    proceed_change: "اس تبدیلی کے ساتھ آگے بڑھیں؟",
    permanent_delete_message: "یہ ریکارڈ مستقل طور پر حذف ہو جائے گا۔ جاری رکھیں؟",
    filters: "فلٹرز",
    apply: "لاگو کریں",
    clear: "صاف کریں",
    include: "شامل کریں",
    exclude: "خارج کریں",
    select: "منتخب کریں",
    prev: "پچھلا",
    next: "اگلا",
    new: "نیا",
    back_to_list: "فہرست پر واپس",
    tooltip_account_type: "بنیادی اکاؤنٹنگ درجہ بندی (اثاثہ، ذمہ داری، سرمایہ، آمدنی، خرچ)۔",
    tooltip_code: "رپورٹس اور فلٹرنگ کے لیے مختصر کوڈ۔",
    tooltip_contra: "اپنے والد گروپ کے بیلنس کو آف سیٹ کرتا ہے۔",
    help_unit_code: "سسٹم میں استعمال ہونے والا مختصر منفرد کوڈ (مثلاً PCS, KG).",
    help_unit_name: "رپورٹس اور دستاویزات میں دکھایا جانے والا وضاحتی نام۔",
    "Define the units of measure used across items, vouchers, and stock.": "اشیاء، واؤچرز اور اسٹاک میں استعمال ہونے والی اکائیوں کی تعریف کریں۔",
    "Product group visibility for raw, semi-finished, and finished items.": "خام، نیم تیار اور تیار اشیاء کے لیے گروپ کی دستیابی۔",
    "Size labels used in variants (e.g., 7/10, 9/10).": "ویریئنٹس میں استعمال ہونے والے سائز لیبل (مثلاً 7/10، 9/10).",
    "Color options for raw materials and finished variants.": "خام مال اور تیار ویریئنٹس کے رنگ۔",
    "Quality grades for product variants.": "پروڈکٹ ویریئنٹس کے معیار کے گریڈ۔",
    "Packaging types for packed stock and variant rules.": "پیک اسٹاک اور ویریئنٹ رولز کے لیے پیکنگ ٹائپس۔",
    "Organize customers and suppliers into reusable party groups.": "کسٹمرز اور سپلائرز کو قابلِ استعمال پارٹی گروپس میں منظم کریں۔",
    "Define chart of account groups under standard account types.": "معیاری اکاؤنٹ ٹائپس کے تحت چارٹ آف اکاؤنٹس گروپس کی تعریف کریں۔",
    "Maintain city master for party addresses and reporting.": "پارٹی ایڈریس اور رپورٹس کے لیے شہروں کا ماسٹر رکھیں۔",
    "Department master for production and non-production cost centers.": "پیداواری اور غیر پیداواری لاگت مراکز کے لیے محکمہ ماسٹر۔",
    ID: "آئی ڈی",
    Code: "کوڈ",
    Name: "نام",
    "Name (Urdu)": "نام (اردو)",
    Group: "گروپ",
    Type: "قسم",
    "Account Name": "اکاؤنٹ نام",
    Contra: "کاؤنٹر",
    "Created By": "تخلیق کنندہ",
    "Created At": "تخلیق کی تاریخ",
    Active: "فعال",
    RM: "RM",
    SFG: "SFG",
    FG: "FG",
    "Group Name": "گروپ نام",
    "Applies to Raw Materials": "خام مال پر لاگو",
    "Applies to Semi-Finished": "نیم تیار پر لاگو",
    "Applies to Finished Goods": "تیار مال پر لاگو",
    Size: "سائز",
    Color: "رنگ",
    Grade: "گریڈ",
    "Packing Type": "پیکنگ ٹائپ",
    "Party Group": "پارٹی گروپ",
    "Party Name": "پارٹی نام",
    "Group Type": "گروپ ٹائپ",
    "Account Group": "اکاؤنٹ گروپ",
    "Contra Account": "کاؤنٹر اکاؤنٹ",
    Production: "پیداوار",
    "Production Department": "پیداواری محکمہ",
    Department: "محکمہ",
    Customer: "کسٹمر",
    Supplier: "سپلائر",
    Both: "دونوں",
    "Select the main classification (Asset, Liability, Equity, Revenue, Expense).": "بنیادی درجہ بندی منتخب کریں (اثاثہ، ذمہ داری، سرمایہ، آمدنی، خرچ)۔",
    "Short code used in reports and filtering (e.g., cash_bank).": "رپورٹس اور فلٹرنگ کے لیے مختصر کوڈ (مثلاً cash_bank).",
    "Use for balances that offset their parent group.": "اپنے والد گروپ کے بیلنس کو آف سیٹ کرنے کے لیے استعمال کریں۔",
    "PCS, DOZEN, KG": "PCS, DOZEN, KG",
    "Pieces, Dozen, Kilogram": "Pieces, Dozen, Kilogram",
    "EVA, PU, Footwear": "EVA, PU, Footwear",
    "7/10, 40, 41": "7/10, 40, 41",
    "Black, White, Mix": "Black, White, Mix",
    "A, B, C": "A, B, C",
    "Thaili, Box, Carton": "Thaili, Box, Carton",
    "Wholesale, Retail, Suppliers": "Wholesale, Retail, Suppliers",
    "cash_bank, receivables": "cash_bank, receivables",
    "Cash & Bank, Trade Receivables": "Cash & Bank, Trade Receivables",
    "Cutting, Stitching, Accounts": "Cutting, Stitching, Accounts",
    "Urdu name": "اردو نام",
    "Urdu display name for reports and screens.": "رپورٹس اور اسکرینز کے لیے اردو نام",
    download: "ڈاؤن لوڈ",
    print: "پرنٹ",
    add: "شامل کریں",
    list: "فہرست",
    show: "دکھائیں",
    rows: "قطاریں",
    status: "حالت",
    search: "تلاش",
    all: "سب",
    active: "فعال",
    inactive: "غیر فعال",
    sr_no: "سیریل نمبر",
    actions: "عمل",
    no_entries: "کوئی اندراج نہیں۔",
    yes: "ہاں",
    no: "نہیں",
    edit: "ترمیم",
    activate: "فعال کریں",
    deactivate: "غیر فعال کریں",
    permanent_delete: "مستقل حذف",
    confirm: "تصدیق",
    are_you_sure: "کیا آپ کو یقین ہے؟",
    continue: "جاری رکھیں",
    cancel: "منسوخ",
    save: "محفوظ کریں",
    audit: "آڈٹ",
    created: "تخلیق",
    updated: "اپ ڈیٹ",
    enter_details_save: "تفصیلات درج کریں اور محفوظ کریں۔",
    showing: "دکھا رہا ہے",
    to: "تا",
    of: "میں سے",
    entries: "اندراجات",
    proceed_change: "اس تبدیلی کے ساتھ آگے بڑھیں؟",
    permanent_delete_message: "یہ ریکارڈ مستقل طور پر حذف ہو جائے گا۔ جاری رکھیں؟",
    unit_code_exists: "یونٹ کوڈ پہلے سے موجود ہے۔",
    conversion_same_units: "فرام اور ٹو یونٹ ایک جیسے نہیں ہو سکتے۔",
    conversion_factor: "فیکٹر صفر سے بڑا ہونا چاہیے۔",
    conversion_exists: "ان یونٹس کے لیے کنورژن پہلے سے موجود ہے۔",
    error_required_fields: "تمام ضروری خانے پُر کریں۔",
    error_unable_save: "محفوظ نہیں ہو سکا۔ ڈپلیکیٹ یا غلط ڈیٹا چیک کریں۔",
    error_update_status: "اس کی حالت تبدیل نہیں ہو سکی۔ یہ آئٹم استعمال میں ہو سکتا ہے۔",
    error_delete: "حذف نہیں ہو سکا۔ یہ آئٹم استعمال میں ہو سکتا ہے۔",
    error_unit_code_locked: "یونٹ کوڈ کو تبدیل نہیں کیا جا سکتا کیونکہ یہ استعمال ہو چکا ہے۔",
    error_duplicate_code: "کوڈ پہلے سے موجود ہے۔",
    error_duplicate_name: "نام پہلے سے موجود ہے۔",
    error_select_branch: "براہ کرم کم از کم ایک برانچ منتخب کریں۔",
    error_select_party_group: "براہ کرم پارٹی گروپ منتخب کریں۔",
    error_phone_required: "براہ کرم کم از کم ایک فون نمبر درج کریں۔",
    error_credit_customer_only: "ادھار صرف کسٹمر کے لیے اجازت ہے۔",
    error_credit_limit_required: "ادھار حد صفر سے زیادہ ہونی چاہیے۔",
    select: "منتخب کریں",
    prev: "پچھلا",
    next: "اگلا",
    new: "نیا",
    back_to_list: "فہرست پر واپس",
    tooltip_account_type: "بنیادی اکاؤنٹنگ درجہ بندی (اثاثہ، ذمہ داری، سرمایہ، آمدنی، خرچ)۔",
    tooltip_code: "رپورٹس اور فلٹرنگ کے لیے مختصر کوڈ۔",
    tooltip_contra: "اپنے والد گروپ کے بیلنس کو آف سیٹ کرتا ہے۔",
    help_unit_code: "سسٹم میں استعمال ہونے والا مختصر منفرد کوڈ (مثلاً PCS, KG).",
    help_unit_name: "رپورٹس اور دستاویزات میں دکھایا جانے والا وضاحتی نام۔",
    "Define the units of measure used across items, vouchers, and stock.": "اشیاء، واؤچرز اور اسٹاک میں استعمال ہونے والی اکائیوں کی تعریف کریں۔",
    "Product group visibility for raw, semi-finished, and finished items.": "خام، نیم تیار اور تیار اشیاء کے لیے گروپ کی دستیابی۔",
    "Size labels used in variants (e.g., 7/10, 9/10).": "ویریئنٹس میں استعمال ہونے والے سائز لیبل (مثلاً 7/10، 9/10).",
    "Color options for raw materials and finished variants.": "خام مال اور تیار ویریئنٹس کے رنگ۔",
    "Quality grades for product variants.": "پروڈکٹ ویریئنٹس کے معیار کے گریڈ۔",
    "Packaging types for packed stock and variant rules.": "پیک اسٹاک اور ویریئنٹ رولز کے لیے پیکنگ ٹائپس۔",
    "Organize customers and suppliers into reusable party groups.": "کسٹمرز اور سپلائرز کو قابلِ استعمال پارٹی گروپس میں منظم کریں۔",
    "Define chart of account groups under standard account types.": "معیاری اکاؤنٹ ٹائپس کے تحت چارٹ آف اکاؤنٹس گروپس کی تعریف کریں۔",
    "Department master for production and non-production cost centers.": "پیداواری اور غیر پیداواری لاگت مراکز کے لیے محکمہ ماسٹر۔",
    ID: "آئی ڈی",
    Code: "کوڈ",
    Name: "نام",
    Group: "گروپ",
    Type: "قسم",
    "Account Name": "اکاؤنٹ نام",
    Contra: "کاؤنٹر",
    "Created By": "تخلیق کنندہ",
    "Created At": "تخلیق کی تاریخ",
    Active: "فعال",
    RM: "RM",
    SFG: "SFG",
    FG: "FG",
    "Group Name": "گروپ نام",
    "Applies to Raw Materials": "خام مال پر لاگو",
    "Applies to Semi-Finished": "نیم تیار پر لاگو",
    "Applies to Finished Goods": "تیار مال پر لاگو",
    Size: "سائز",
    Color: "رنگ",
    Grade: "گریڈ",
    "Packing Type": "پیکنگ ٹائپ",
    "Party Group": "پارٹی گروپ",
    "Party Name": "پارٹی نام",
    "Group Type": "گروپ ٹائپ",
    "Account Group": "اکاؤنٹ گروپ",
    "Contra Account": "کاؤنٹر اکاؤنٹ",
    Production: "پیداوار",
    "Production Department": "پیداواری محکمہ",
    Department: "محکمہ",
    Customer: "کسٹمر",
    Supplier: "سپلائر",
    Both: "دونوں",
    "Select the main classification (Asset, Liability, Equity, Revenue, Expense).": "بنیادی درجہ بندی منتخب کریں (اثاثہ، ذمہ داری، سرمایہ، آمدنی، خرچ)۔",
    "Short code used in reports and filtering (e.g., cash_bank).": "رپورٹس اور فلٹرنگ کے لیے مختصر کوڈ (مثلاً cash_bank).",
    "Use for balances that offset their parent group.": "اپنے والد گروپ کے بیلنس کو آف سیٹ کرنے کے لیے استعمال کریں۔",
    "PCS, DOZEN, KG": "PCS, DOZEN, KG",
    "Pieces, Dozen, Kilogram": "Pieces, Dozen, Kilogram",
    "EVA, PU, Footwear": "EVA, PU, Footwear",
    "7/10, 40, 41": "7/10, 40, 41",
    "Black, White, Mix": "Black, White, Mix",
    "A, B, C": "A, B, C",
    "Thaili, Box, Carton": "Thaili, Box, Carton",
    "Wholesale, Retail, Suppliers": "Wholesale, Retail, Suppliers",
    "cash_bank, receivables": "cash_bank, receivables",
    "Cash & Bank, Trade Receivables": "Cash & Bank, Trade Receivables",
    "Cutting, Stitching, Accounts": "Cutting, Stitching, Accounts",
    brand: "چاند ایوا",
    dashboard: "ڈیش بورڈ",
    welcome: "خوش آمدید۔ شروع کرنے کے لئے نیویگیشن سے ماڈیول منتخب کریں۔",
    branch: "برانچ",
    signed_in_as: "بطور داخل",
    logout: "لاگ آؤٹ",
    sign_in: "سائن اِن",
    use_credentials: "جاری رکھنے کے لیے اپنی ERP اسناد استعمال کریں۔",
    username: "صارف نام",
    password: "پاس ورڈ",
    login: "لاگ اِن",
    incorrect_credentials: "غلط صارف نام یا پاس ورڈ۔ دوبارہ کوشش کریں۔",
    user_inactive: "صارف غیر فعال ہے۔ ایڈمن سے رابطہ کریں۔",
    login_failed: "لاگ اِن ناکام۔ دوبارہ کوشش کریں۔",
    administration: "انتظامیہ",
    setup: "سیٹ اپ",
    branches: "برانچز",
    users: "صارفین",
    roles: "رولز",
    permissions: "اجازتیں",
    approvals: "زیر التواء منظوری",
    audit_logs: "سرگرمی لاگ",
    master_data: "ماسٹر ڈیٹا",
    accounts_parties: "اکاؤنٹس اور پارٹیز",
    accounts: "اکاؤنٹس",
    parties: "پارٹیز",
    products: "مصنوعات",
    basic_information: "بنیادی معلومات",
    units: "یونٹس",
    groups: "گروپس",
    party_groups: "پارٹی گروپس",
    account_groups: "اکاؤنٹ گروپس",
    account_type: "اکاؤنٹ ٹائپ",
    account_group: "اکاؤنٹ گروپ",
    account_code: "اکاؤنٹ کوڈ",
    account_name: "اکاؤنٹ نام",
    lock_posting: "پوسٹنگ لاک",
    party_type: "پارٹی ٹائپ",
    party_group: "پارٹی گروپ",
    party_code: "پارٹی کوڈ",
    party_name: "پارٹی نام",
    address: "پتہ",
    phone_1: "فون 1",
    phone_2: "فون 2",
    city: "شہر",
    customer: "کسٹمر",
    supplier: "سپلائر",
    credit_allowed: "ادھار کی اجازت",
    credit_limit: "ادھار حد",
    "Maintain chart of accounts used in vouchers and reporting.": "واؤچرز اور رپورٹس میں استعمال ہونے والے اکاؤنٹس کی فہرست رکھیں۔",
    "Manage customer and supplier master records.": "کسٹمر اور سپلائر کے ماسٹر ریکارڈز سنبھالیں۔",
    "Prevent vouchers from posting to this account.": "اس اکاؤنٹ میں واؤچرز پوسٹ ہونے سے روکے۔",
    "Only allowed for customers. Requires a credit limit.": "یہ صرف کسٹمرز کے لیے ہے اور کریڈٹ حد ضروری ہے۔",
    departments: "محکمے",
    product_groups: "پروڈکٹ گروپس",
    product_subgroups: "?????? ??-?????",
    product_types: "?????? ?????",
    sizes: "سائزز",
    colors: "رنگ",
    grades: "گریڈز",
    packing_types: "پیکنگ ٹائپس",
    cities: "شہر",
    uom_conversions: "یو او ایم کنورژنز",
    finished: "فنشڈ",
    semi_finished: "سیمی فنشڈ",
    raw_materials: "خام مال",
    skus: "ایس کے یو",
    variant_id: "ویریئنٹ آئی ڈی",
    article: "آرٹیکل",
    barcode: "بارکوڈ",
    purchase_rate: "خریداری ریٹ",
    sizes_help: "اس سیمی فِنشڈ آئٹم کے لیے ایک یا زیادہ سائز منتخب کریں۔",
    article_name: "آرٹیکل نام",
    group: "گروپ",
    sub_group: "ذیلی گروپ",
    base_unit: "بنیادی یونٹ",
    category: "قسم",
    uses_sfg: "سیمی فِنشڈ استعمال",
    sfg_part: "SFG حصہ",
    sfg_part_type: "SFG حصہ کی قسم",
    upper: "اپر",
    step: "اسٹیپ",
    color_rates: "رنگ ریٹس",
    avg_purchase_rate: "اوسط خریداری ریٹ",
    min_stock: "کم از کم اسٹاک",
    sizes_label: "سائز",
    usage: "استعمال",
    sale_rate: "سیل ریٹ",
    sku_code: "SKU کوڈ",
    rates: "ریٹس",
    summary: "خلاصہ",
    expanded: "تفصیل",
    one_color: "ایک رنگ",
    one_size: "ایک سائز",
    only: "صرف",
    finished_description: "فنشڈ آرٹیکلز، کیٹیگریز، اور SFG استعمال کی سیٹنگز۔",
    semi_finished_description: "سیمی فِنشڈ آئٹمز اور متعلقہ سائزز کا انتظام۔",
    raw_materials_description: "خام مال کے لیے رنگ وار خریداری ریٹس کے ساتھ اندراج۔",
    skus_description: "SKU ویریئنٹس اور قیمتوں کا انتظام۔",
    sku_rate_help: "سائز اور گریڈ (اور اختیاری رنگ/پیکنگ) منتخب کریں تاکہ ہر کمبی نیشن کے لیے ریٹ درج ہو سکے۔",
    bom: "بی او ایم",
    bom_list: "بی او ایم فہرست",
    bom_versions: "ورژنز",
    bom_approval: "منظوری",
    hr_payroll: "ایچ آر اور پے رول",
    employees: "ملازمین",
    sales_commission: "سیلز کمیشن",
    allowances: "الاؤنسز",
    labours: "لیبرز",
    labour_rates: "لیبر ریٹس",
    financial: "مالیاتی",
    vouchers: "ووچرز",
    cash_voucher: "کیش ووچر",
    bank_voucher: "بینک ووچر",
    journal_voucher: "جرنل ووچر",
    reports: "رپورٹس",
    financial_reports: "مالیاتی رپورٹس",
    purchase: "خریداری",
    purchase_invoice: "خریداری انوائس",
    purchase_order: "خریداری آرڈر",
    purchase_return: "خریداری ریٹرن",
    purchase_reports: "خریداری رپورٹس",
    production: "پروڈکشن",
    abnormal_loss: "غیر معمولی نقصان",
    production_reports: "پروڈکشن رپورٹس",
    inventory: "انوینٹری",
    inventory_voucher: "انوینٹری ووچر",
    stock_count: "اسٹاک کاؤنٹ",
    stock_transfer: "اسٹاک ٹرانسفر",
    inventory_reports: "انوینٹری رپورٹس",
    outward_returnable: "آؤٹ ورڈ اور ریٹرنیبل",
    returnables: "ریٹرنیبلز",
    returnable_reports: "ریٹرنیبل رپورٹس",
    sales: "سیلز",
    sales_voucher: "سیلز ووچر",
    sales_order: "سیلز آرڈر",
    sales_reports: "سیلز رپورٹس",
    language: "زبان",
    english: "انگریزی",
    urdu: "اردو",
  },
};

// Resolves locale (Urdu/English) and exposes it to views/responses.
module.exports = (req, res, next) => {
  const cookies = parseCookies(req);
  const requested = (req.query && req.query.lang) || cookies.lang || (req.headers["accept-language"] || "").split(",")[0];
  const normalized = (requested || "en").toLowerCase();
  const locale = normalized.startsWith("ur") ? "ur" : "en";

  if (req.query && req.query.lang) {
    setCookie(res, "lang", locale, {
      path: "/",
      sameSite: "Lax",
      maxAge: 60 * 60 * 24 * 365,
    });
  }

  req.locale = locale;
  res.locals.locale = locale;
  res.locals.t = (key) => translations[locale][key] || translations.en[key] || key;
  next();
};
